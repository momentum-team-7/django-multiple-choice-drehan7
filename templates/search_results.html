{% extends 'base.html' %}
{% block content %}

<h1>Search Results for "{{search_input}}":</h1>

<a href="/user/{{request.user.pk}}/profile/">Back</a>
<div class="snippets-container">
    {% if request.user.pk is user.pk %}
    <div class="snippet-search-container">
        <form action="{% url 'search_results' pk=request.user.pk %}" method="get">
            <input name="query" type="text" placeholder="Search Snippets...">
            <button type="submit">Search</button>
        </form>
        
    </div>
    {% endif %}
{% for snippet in final_results %}

    <div class="snippet-format">
        <li><div class="snippet-title-container">
            Title: {{snippet.title}}
        </div>
        <div class="snippet-title">
            <a href="{% url 'user_profile' pk=snippet.author.pk %}">{{snippet.author}}</a>
        </div>
        <div class="snippet-code-container">
        <pre><code>{{snippet.code}}</code></pre> 
        </div> 
        <div class="bottom-snippet-container"> Language: {{ snippet.language }}
        <div class= "edit-delete-buttons">
        <a href="{% url 'edit_snippet' pk=snippet.author.pk id=snippet.pk %}"> Edit </a><a href="{% url 'delete_snippet' pk=snippet.pk%}"> Delete</a>
        </div>
        </div>
        </li>
    </div>

{% endfor %}



{% endblock %}